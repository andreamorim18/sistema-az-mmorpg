<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema A-Z MMORPG - Jogo Funcional</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 1s ease;
        }

        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .game-container {
            display: grid;
            grid-template-columns: 300px 1fr 300px;
            gap: 20px;
            margin-bottom: 30px;
        }

        .panel {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.2);
            animation: fadeIn 1s ease;
        }

        .panel h2 {
            margin-bottom: 15px;
            color: #FFD700;
            font-size: 1.3em;
            border-bottom: 2px solid #FFD700;
            padding-bottom: 5px;
        }

        .character-info {
            margin-bottom: 15px;
        }

        .stat {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding: 5px;
            background: rgba(0,0,0,0.2);
            border-radius: 5px;
        }

        .stat-name {
            font-weight: bold;
            color: #87CEEB;
        }

        .stat-value {
            color: #90EE90;
            font-weight: bold;
        }

        .hp-bar {
            width: 100%;
            height: 20px;
            background: #333;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .hp-fill {
            height: 100%;
            background: linear-gradient(90deg, #FF6B6B, #4ECDC4);
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-attack {
            background: linear-gradient(45deg, #FF6B6B, #C44569);
            color: white;
        }

        .btn-attack:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255,107,107,0.4);
        }

        .btn-skill {
            background: linear-gradient(45deg, #4ECDC4, #44A08D);
            color: white;
        }

        .btn-skill:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(78,205,196,0.4);
        }

        .btn-defend {
            background: linear-gradient(45deg, #45B7D1, #2196F3);
            color: white;
        }

        .btn-defend:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(69,183,209,0.4);
        }

        .btn-item {
            background: linear-gradient(45deg, #F7DC6F, #F39C12);
            color: white;
        }

        .btn-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(247,220,111,0.4);
        }

        .log {
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            padding: 15px;
            height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .log-entry {
            margin-bottom: 5px;
            padding: 5px;
            border-radius: 3px;
        }

        .log-combat {
            color: #FFD700;
            border-left: 3px solid #FFD700;
        }

        .log-system {
            color: #87CEEB;
            border-left: 3px solid #87CEEB;
        }

        .log-damage {
            color: #FF6B6B;
            border-left: 3px solid #FF6B6B;
        }

        .log-heal {
            color: #90EE90;
            border-left: 3px solid #90EE90;
        }

        .enemy-info {
            text-align: center;
        }

        .enemy-sprite {
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, #8B4513, #D2691E);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3em;
            animation: pulse 2s infinite;
        }

        .controls {
            text-align: center;
            margin-top: 30px;
        }

        .main-btn {
            padding: 15px 40px;
            font-size: 1.2em;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: #333;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .main-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255,215,0,0.4);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .version {
            text-align: center;
            margin-top: 20px;
            opacity: 0.7;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2em;
            }
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 5% auto;
            padding: 0;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            border: 2px solid rgba(255,255,255,0.2);
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .modal-header h2 {
            color: #FFD700;
            font-size: 1.8em;
            margin: 0;
        }

        .close-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 2em;
            cursor: pointer;
            padding: 0;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: rgba(255,255,255,0.1);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 30px;
        }

        .class-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .class-card {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .class-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border-color: #FFD700;
            background: rgba(255,255,255,0.15);
        }

        .class-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .class-card h3 {
            color: #FFD700;
            margin: 0 0 10px 0;
            font-size: 1.4em;
        }

        .class-card p {
            color: #fff;
            margin: 0 0 15px 0;
            opacity: 0.9;
            font-size: 0.9em;
        }

        .class-stats {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .class-stats span {
            color: #87CEEB;
            font-size: 0.8em;
            font-weight: bold;
        }

        /* Shop Styles */
        .shop-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid rgba(255,255,255,0.2);
            padding-bottom: 10px;
        }

        .tab-btn {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            color: #fff;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .tab-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .tab-btn.active {
            background: rgba(255,215,0,0.3);
            border-color: #FFD700;
            color: #FFD700;
        }

        .shop-content {
            max-height: 400px;
            overflow-y: auto;
        }

        .shop-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .shop-item {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .shop-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            border-color: #FFD700;
            background: rgba(255,255,255,0.15);
        }

        .shop-item.owned {
            border-color: #4ECDC4;
            background: rgba(78,205,196,0.1);
        }

        .shop-item.equipped {
            border-color: #FFD700;
            background: rgba(255,215,0,0.2);
        }

        .item-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .item-name {
            color: #FFD700;
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 1.1em;
        }

        .item-stats {
            color: #87CEEB;
            font-size: 0.8em;
            margin-bottom: 8px;
        }

        .item-price {
            color: #90EE90;
            font-weight: bold;
            font-size: 1em;
            margin-bottom: 10px;
        }

        .item-level {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255,215,0,0.3);
            color: #FFD700;
            padding: 2px 6px;
            border-radius: 10px;
            font-size: 0.7em;
            font-weight: bold;
        }

        .buy-btn, .upgrade-btn, .equip-btn {
            background: linear-gradient(45deg, #4ECDC4, #44A08D);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9em;
            transition: all 0.3s ease;
            width: 100%;
        }

        .buy-btn:hover, .upgrade-btn:hover, .equip-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(78,205,196,0.4);
        }

        .buy-btn:disabled, .upgrade-btn:disabled {
            background: #666;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .upgrade-btn {
            background: linear-gradient(45deg, #FFD700, #FFA500);
        }

        .equip-btn {
            background: linear-gradient(45deg, #45B7D1, #2196F3);
        }

        .gold-display {
            background: rgba(255,215,0,0.2);
            border: 2px solid #FFD700;
            border-radius: 10px;
            padding: 10px 20px;
            margin-bottom: 20px;
            text-align: center;
            color: #FFD700;
            font-weight: bold;
            font-size: 1.2em;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Sistema A-Z MMORPG</h1>
            <p class="subtitle">Jogo Funcional Demo</p>
        </header>

        <div class="game-container">
            <div class="panel">
                <h2>üéÆ Personagem</h2>
                <div class="character-info">
                    <div class="stat">
                        <span class="stat-name">Nome:</span>
                        <span class="stat-value">Guerreiro Her√≥i</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">Classe:</span>
                        <span class="stat-value">Guerreiro</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">N√≠vel:</span>
                        <span class="stat-value">25</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">Rank:</span>
                        <span class="stat-value">C</span>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill" style="width: 85%"></div>
                    </div>
                    <div class="stat">
                        <span class="stat-name">HP:</span>
                        <span class="stat-value">850/1000</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">ATQ:</span>
                        <span class="stat-value">45</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">DEF:</span>
                        <span class="stat-value">38</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">AGI:</span>
                        <span class="stat-value">22</span>
                    </div>
                </div>

                <h2>‚öîÔ∏è A√ß√µes</h2>
                <div class="action-buttons">
                    <button class="btn btn-attack" onclick="performAttack()">Atacar</button>
                    <button class="btn btn-skill" onclick="useSkill()">Habilidade</button>
                    <button class="btn btn-defend" onclick="defend()">Defender</button>
                    <button class="btn btn-item" onclick="useItem()">Item</button>
                </div>
            </div>

            <div class="panel">
                <h2>üéØ Arena de Combate</h2>
                <div class="enemy-info">
                    <div class="enemy-sprite">üëπ</div>
                    <h3>Ogro Guardi√£o</h3>
                    <div class="stat">
                        <span class="stat-name">N√≠vel:</span>
                        <span class="stat-value">23</span>
                    </div>
                    <div class="hp-bar">
                        <div class="hp-fill" style="width: 60%"></div>
                    </div>
                    <div class="stat">
                        <span class="stat-name">HP:</span>
                        <span class="stat-value">720/1200</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">ATQ:</span>
                        <span class="stat-value">35</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">DEF:</span>
                        <span class="stat-value">28</span>
                    </div>
                </div>

                <h2>üìú Registro de Batalha</h2>
                <div class="log" id="battleLog">
                    <div class="log-entry log-system">‚öîÔ∏è Batalha iniciada!</div>
                    <div class="log-entry log-combat">üéÆ Guerreiro Her√≥i vs Ogro Guardi√£o</div>
                    <div class="log-entry log-damage">‚öîÔ∏è Guerreiro ataca: 12 de dano!</div>
                    <div class="log-entry log-damage">ÔøΩ Lobo contra-ataca: 3 de dano!</div>
                    <div class="log-entry log-heal">üíö Guerreiro usa P√£o: +10 HP</div>
                    <div class="log-entry log-damage">‚öîÔ∏è Guerreiro ataca: 15 de dano!</div>
                    <div class="log-entry log-system">‚≠ê Lobo Jovem derrotado!</div>
                </div>
            </div>

            <div class="panel">
                <h2>üéí Invent√°rio</h2>
                <div class="character-info">
                    <div class="stat">
                        <span class="stat-name">üó°Ô∏è Espada de A√ßo</span>
                        <span class="stat-value">ATQ +15</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">üõ°Ô∏è Escudo de Ferro</span>
                        <span class="stat-value">DEF +12</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">üß™ Po√ß√£o de Cura</span>
                        <span class="stat-value">x5</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">üíé Gema de Poder</span>
                        <span class="stat-value">ATQ +5</span>
                    </div>
                </div>

                <h2>üåü Habilidades</h2>
                <div class="character-info">
                    <div class="stat">
                        <span class="stat-name">‚öîÔ∏è Investida Brutal</span>
                        <span class="stat-value">Pronta</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">üõ°Ô∏è Postura Defensiva</span>
                        <span class="stat-value">Pronta</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">üî• F√∫ria de Batalha</span>
                        <span class="stat-value">Cooldown: 2 turnos</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">‚ö° Golpe Poderoso</span>
                        <span class="stat-value">Pronta</span>
                    </div>
                </div>

                <h2>üìä Estat√≠sticas</h2>
                <div class="character-info">
                    <div class="stat">
                        <span class="stat-name">‚öîÔ∏è Vit√≥rias:</span>
                        <span class="stat-value">147</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">üíÄ Derrotas:</span>
                        <span class="stat-value">23</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">üèÜ Rank Atual:</span>
                        <span class="stat-value">C (Elite)</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">üí∞ Gold:</span>
                        <span class="stat-value">2,847</span>
                    </div>
                    <div class="stat">
                        <span class="stat-name">‚ú® XP:</span>
                        <span class="stat-value">8,450 / 10,000</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="main-btn" onclick="startNewBattle()">‚öîÔ∏è Nova Batalha</button>
            <button class="main-btn" onclick="openInventory()">üéí Invent√°rio</button>
            <button class="main-btn" onclick="showStats()">üìä Estat√≠sticas</button>
            <button class="main-btn" onclick="showShop()">üè™ Loja</button>
            <button class="main-btn" onclick="showClassSelection()">üéØ Escolher Classe</button>
            <button class="main-btn" onclick="resetGame()">üîÑ Resetar Jogo</button>
        </div>

        <div class="version">
            <p>Sistema A-Z MMORPG v1.0.0 | Desenvolvido com ‚ù§Ô∏è para a comunidade</p>
            <p>Baseado no universo RPG Sistema A-Z | TypeScript ‚Ä¢ Node.js ‚Ä¢ PostgreSQL</p>
        </div>
    </div>

    <!-- Modal de Loja -->
    <div id="shopModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üè™ Loja de Equipamentos</h2>
                <button class="close-btn" onclick="closeShop()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="shop-tabs">
                    <button class="tab-btn active" onclick="showShopTab('weapons')">‚öîÔ∏è Armas</button>
                    <button class="tab-btn" onclick="showShopTab('armor')">üõ°Ô∏è Armaduras</button>
                    <button class="tab-btn" onclick="showShopTab('upgrades')">‚≠ê Upgrades</button>
                </div>
                
                <div id="shopContent" class="shop-content">
                    <!-- Conte√∫do ser√° preenchido dinamicamente -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Sele√ß√£o de Classe -->
    <div id="classSelectionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üéØ Escolher Classe</h2>
                <button class="close-btn" onclick="closeClassSelection()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="class-grid">
                    <div class="class-card" onclick="selectClass('warrior')">
                        <div class="class-icon">‚öîÔ∏è</div>
                        <h3>Guerreiro</h3>
                        <p>Tank/DPS f√≠sico com alta defesa</p>
                        <div class="class-stats">
                            <span>ATQ: ‚≠ê‚≠ê‚≠ê‚≠ê</span>
                            <span>DEF: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                            <span>AGI: ‚≠ê‚≠ê</span>
                        </div>
                    </div>
                    <div class="class-card" onclick="selectClass('archer')">
                        <div class="class-icon">üèπ</div>
                        <h3>Arqueiro</h3>
                        <p>DPS ranged com alta agilidade</p>
                        <div class="class-stats">
                            <span>ATQ: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                            <span>DEF: ‚≠ê‚≠ê</span>
                            <span>AGI: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                        </div>
                    </div>
                    <div class="class-card" onclick="selectClass('mage')">
                        <div class="class-icon">üîÆ</div>
                        <h3>Mago</h3>
                        <p>DPS m√°gico com controle elemental</p>
                        <div class="class-stats">
                            <span>ATQ: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                            <span>DEF: ‚≠ê‚≠ê</span>
                            <span>AGI: ‚≠ê‚≠ê‚≠ê</span>
                        </div>
                    </div>
                    <div class="class-card" onclick="selectClass('cleric')">
                        <div class="class-icon">‚ú®</div>
                        <h3>Cl√©rigo</h3>
                        <p>Support/Healer com cura e buffs</p>
                        <div class="class-stats">
                            <span>ATQ: ‚≠ê‚≠ê</span>
                            <span>DEF: ‚≠ê‚≠ê‚≠ê</span>
                            <span>AGI: ‚≠ê‚≠ê‚≠ê</span>
                        </div>
                    </div>
                    <div class="class-card" onclick="selectClass('assassin')">
                        <div class="class-icon">üó°Ô∏è</div>
                        <h3>Assassino</h3>
                        <p>DPS burst com stealth e cr√≠ticos</p>
                        <div class="class-stats">
                            <span>ATQ: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                            <span>DEF: ‚≠ê‚≠ê</span>
                            <span>AGI: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let battleLog = document.getElementById('battleLog');
        let logEntries = 0;

        function addLogEntry(message, type = 'system') {
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            entry.textContent = message;
            battleLog.appendChild(entry);
            battleLog.scrollTop = battleLog.scrollHeight;
            
            logEntries++;
            if (logEntries > 10) {
                battleLog.removeChild(battleLog.firstChild);
                logEntries--;
            }
        }

        function performAttack() {
            startHPAnimation(); // Inicia anima√ß√£o apenas quando ataca
            const currentClass = document.querySelector('.stat-value').textContent;
            const damage = Math.floor(Math.random() * 50) + 30; // 30-80 dano
            addLogEntry(`‚öîÔ∏è ${currentClass} ataca: ${damage} de dano!`, 'damage');
            
            setTimeout(() => {
                const enemyDamage = Math.floor(Math.random() * 30) + 15; // 15-45 dano
                addLogEntry(`üëπ Ogro contra-ataca: ${enemyDamage} de dano!`, 'damage');
            }, 1000);
        }

        function useSkill() {
            startHPAnimation(); // Inicia anima√ß√£o apenas quando usa habilidade
            const currentClass = document.querySelector('.stat-value').textContent;
            
            const classSkills = {
                'Guerreiro': [
                    'üî• Guerreiro usa F√∫ria de Batalha!',
                    'üõ°Ô∏è Guerreiro usa Postura Defensiva!',
                    '‚ö° Guerreiro usa Golpe Poderoso!',
                    '‚öîÔ∏è Guerreiro usa Investida Brutal!'
                ],
                'Arqueiro': [
                    'üèπ Arqueiro usa Tiro Preciso!',
                    '‚ö° Arqueiro usa Disparo R√°pido!',
                    'üó°Ô∏è Arqueiro usa Flecha Envenenada!',
                    'üåßÔ∏è Arqueiro usa Chuva de Flechas!'
                ],
                'Mago': [
                    'üî• Mago usa Bola de Fogo!',
                    '‚ùÑÔ∏è Mago usa Gelo Arcano!',
                    '‚ö° Mago usa Raio!',
                    'üõ°Ô∏è Mago usa Barreira M√°gica!'
                ],
                'Cl√©rigo': [
                    '‚ú® Cl√©rigo usa Cura Menor!',
                    'üôè Cl√©rigo usa B√™n√ß√£o!',
                    'üõ°Ô∏è Cl√©rigo usa Prote√ß√£o Divina!',
                    'üí° Cl√©rigo usa Luz Sagrada!'
                ],
                'Assassino': [
                    'üó°Ô∏è Assassino usa Ataque Furtivo!',
                    '‚ò†Ô∏è Assassino usa Veneno!',
                    'üí® Assassino usa Evas√£o!',
                    '‚öîÔ∏è Assassino usa Execu√ß√£o!'
                ]
            };
            
            const skills = classSkills[currentClass] || classSkills['Guerreiro'];
            const skill = skills[Math.floor(Math.random() * skills.length)];
            addLogEntry(skill, 'combat');
            
            setTimeout(() => {
                const damage = Math.floor(Math.random() * 80) + 50; // 50-130 dano
                addLogEntry(`üí• Habilidade causa ${damage} de dano!`, 'damage');
            }, 500);
        }

        function defend() {
            addLogEntry('üõ°Ô∏è Guerreiro assume postura defensiva!', 'system');
            setTimeout(() => {
                const blockedDamage = Math.floor(Math.random() * 20) + 10;
                addLogEntry(`‚ú® Bloqueou ${blockedDamage} de dano!`, 'heal');
            }, 500);
        }

        function useItem() {
            const items = [
                'üß™ Guerreiro usa Po√ß√£o de Cura: +150 HP',
                'üíé Guerreiro usa Gema de Poder: ATQ +5 tempor√°rio',
                'üçñ Guerreiro usa Comida: +50 energia',
                '‚ö° Guerreiro usa Elixir: Todas as habilidades prontas'
            ];
            const item = items[Math.floor(Math.random() * items.length)];
            addLogEntry(item, 'heal');
        }

        function startNewBattle() {
            stopHPAnimation(); // Para anima√ß√£o ao reiniciar
            addLogEntry('üîÑ Iniciando nova batalha...', 'system');
            setTimeout(() => {
                addLogEntry('‚öîÔ∏è Novo inimigo apareceu!', 'combat');
                addLogEntry('üëπ Goblin Ladr√£o - N√≠vel 15', 'combat');
            }, 1000);
        }

        function openInventory() {
            addLogEntry('üéí Abrindo invent√°rio...', 'system');
        }

        function showStats() {
            addLogEntry('üìä Carregando estat√≠sticas...', 'system');
        }

        function visitShop() {
            document.getElementById('shopModal').style.display = 'block';
            updateShopDisplay();
            addLogEntry('üè™ Loja aberta!', 'system');
        }

        function showShop() {
            document.getElementById('shopModal').style.display = 'block';
            updateShopDisplay();
            addLogEntry('üè™ Loja aberta!', 'system');
        }

        function closeShop() {
            document.getElementById('shopModal').style.display = 'none';
        }

        function showShopTab(tab) {
            // Remover classe active de todos os bot√µes
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Adicionar classe active ao bot√£o clicado
            event.target.classList.add('active');
            
            // Atualizar conte√∫do da loja
            updateShopContent(tab);
        }

        function updateShopDisplay() {
            const goldDisplay = document.querySelector('.gold-display');
            if (!goldDisplay) {
                const modalBody = document.querySelector('#shopModal .modal-body');
                const goldDiv = document.createElement('div');
                goldDiv.className = 'gold-display';
                goldDiv.id = 'goldDisplay';
                modalBody.insertBefore(goldDiv, modalBody.firstChild);
            }
            
            const currentGold = parseInt(document.querySelectorAll('.stat-value')[14].textContent.replace(',', ''));
            document.getElementById('goldDisplay').innerHTML = `üí∞ Gold: ${currentGold}`;
            
            updateShopContent('weapons');
        }

        function updateShopContent(tab) {
            const shopContent = document.getElementById('shopContent');
            
            const shopData = {
                weapons: [
                    { id: 'sword_wood', name: 'Espada de Madeira', icon: 'üó°Ô∏è', stats: 'ATQ +2', price: 10, level: 1, type: 'weapon' },
                    { id: 'sword_bronze', name: 'Espada de Bronze', icon: '‚öîÔ∏è', stats: 'ATQ +5', price: 50, level: 3, type: 'weapon' },
                    { id: 'sword_iron', name: 'Espada de Ferro', icon: 'üó°Ô∏è', stats: 'ATQ +8', price: 150, level: 5, type: 'weapon' },
                    { id: 'sword_steel', name: 'Espada de A√ßo', icon: '‚öîÔ∏è', stats: 'ATQ +12', price: 300, level: 8, type: 'weapon' },
                    { id: 'bow_short', name: 'Arco Curto', icon: 'üèπ', stats: 'ATQ +4', price: 25, level: 2, type: 'weapon' },
                    { id: 'bow_long', name: 'Arco Longo', icon: 'üèπ', stats: 'ATQ +7', price: 120, level: 6, type: 'weapon' },
                    { id: 'staff_basic', name: 'Cajado B√°sico', icon: 'üîÆ', stats: 'ATQ +5', price: 30, level: 2, type: 'weapon' },
                    { id: 'staff_arcane', name: 'Cajado Arcano', icon: 'üîÆ', stats: 'ATQ +10', price: 200, level: 7, type: 'weapon' },
                    { id: 'dagger_basic', name: 'Adaga', icon: 'üó°Ô∏è', stats: 'ATQ +6', price: 40, level: 3, type: 'weapon' },
                    { id: 'dagger_venom', name: 'Adaga Venenosa', icon: 'üó°Ô∏è', stats: 'ATQ +9', price: 180, level: 8, type: 'weapon' }
                ],
                armor: [
                    { id: 'shield_leather', name: 'Escudo de Couro', icon: 'üõ°Ô∏è', stats: 'DEF +1', price: 8, level: 1, type: 'armor' },
                    { id: 'shield_wood', name: 'Escudo de Madeira', icon: 'üõ°Ô∏è', stats: 'DEF +3', price: 30, level: 3, type: 'armor' },
                    { id: 'shield_iron', name: 'Escudo de Ferro', icon: 'üõ°Ô∏è', stats: 'DEF +6', price: 100, level: 5, type: 'armor' },
                    { id: 'shield_steel', name: 'Escudo de A√ßo', icon: 'üõ°Ô∏è', stats: 'DEF +10', price: 250, level: 8, type: 'armor' },
                    { id: 'armor_leather', name: 'Armadura de Couro', icon: 'üéΩ', stats: 'DEF +2', price: 20, level: 2, type: 'armor' },
                    { id: 'armor_chain', name: 'Armadura de Malha', icon: 'üéΩ', stats: 'DEF +5', price: 80, level: 4, type: 'armor' },
                    { id: 'armor_plate', name: 'Armadura de Placas', icon: 'üéΩ', stats: 'DEF +8', price: 180, level: 7, type: 'armor' },
                    { id: 'robe_basic', name: 'T√∫nica M√°gica', icon: 'üëò', stats: 'DEF +1', price: 15, level: 1, type: 'armor' },
                    { id: 'robe_enchanted', name: 'T√∫nica Encantada', icon: 'üëò', stats: 'DEF +4', price: 90, level: 5, type: 'armor' },
                    { id: 'robe_divine', name: 'T√∫nica Divina', icon: 'üëò', stats: 'DEF +7', price: 220, level: 8, type: 'armor' }
                ],
                upgrades: [
                    { id: 'upgrade_plus1', name: 'Upgrade +1', icon: '‚≠ê', stats: '+20% stats', price: 100, level: 1, type: 'upgrade' },
                    { id: 'upgrade_plus2', name: 'Upgrade +2', icon: '‚≠ê‚≠ê', stats: '+40% stats', price: 300, level: 3, type: 'upgrade' },
                    { id: 'upgrade_plus3', name: 'Upgrade +3', icon: '‚≠ê‚≠ê‚≠ê', stats: '+60% stats', price: 800, level: 5, type: 'upgrade' },
                    { id: 'upgrade_plus4', name: 'Upgrade +4', icon: '‚≠ê‚≠ê‚≠ê‚≠ê', stats: '+80% stats', price: 2000, level: 7, type: 'upgrade' },
                    { id: 'upgrade_plus5', name: 'Upgrade +5', icon: '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê', stats: '+100% stats', price: 5000, level: 10, type: 'upgrade' }
                ]
            };

            const items = shopData[tab] || [];
            const currentGold = parseInt(document.querySelectorAll('.stat-value')[14].textContent.replace(',', ''));
            const playerLevel = parseInt(document.querySelectorAll('.stat-value')[1].textContent);
            
            let html = '<div class="shop-grid">';
            
            items.forEach(item => {
                const isOwned = checkIfOwned(item.id);
                const isEquipped = checkIfEquipped(item.id);
                const canAfford = currentGold >= item.price;
                const canUse = playerLevel >= item.level;
                
                let buttonHtml = '';
                let itemClass = 'shop-item';
                
                if (isEquipped) {
                    itemClass += ' equipped';
                    buttonHtml = '<button class="equip-btn" disabled>Equipado</button>';
                } else if (isOwned) {
                    itemClass += ' owned';
                    buttonHtml = `<button class="equip-btn" onclick="equipItem('${item.id}')">Equipar</button>`;
                } else {
                    buttonHtml = `<button class="buy-btn" onclick="buyItem('${item.id}', ${item.price})" ${!canAfford || !canUse ? 'disabled' : ''}>
                        ${!canAfford ? 'Sem Gold' : !canUse ? `N√≠vel ${item.level}` : `Comprar (${item.price} üí∞)`}
                    </button>`;
                }
                
                html += `
                    <div class="${itemClass}">
                        <div class="item-level">+${item.level}</div>
                        <div class="item-icon">${item.icon}</div>
                        <div class="item-name">${item.name}</div>
                        <div class="item-stats">${item.stats}</div>
                        <div class="item-price">${item.price} üí∞</div>
                        ${buttonHtml}
                    </div>
                `;
            });
            
            html += '</div>';
            shopContent.innerHTML = html;
        }

        function checkIfOwned(itemId) {
            // Verificar se o item est√° no invent√°rio
            const inventoryItems = [
                document.querySelectorAll('.stat-name')[7].textContent, // Arma
                document.querySelectorAll('.stat-name')[8].textContent  // Armadura
            ];
            return inventoryItems.some(item => item.toLowerCase().includes(itemId.split('_')[1]));
        }

        function checkIfEquipped(itemId) {
            // Verificar se o item est√° equipado
            const equippedItems = [
                document.querySelectorAll('.stat-name')[7].textContent, // Arma
                document.querySelectorAll('.stat-name')[8].textContent  // Armadura
            ];
            return equippedItems.some(item => item.toLowerCase().includes(itemId.split('_')[1]));
        }

        function buyItem(itemId, price) {
            const currentGold = parseInt(document.querySelectorAll('.stat-value')[14].textContent.replace(',', ''));
            
            if (currentGold >= price) {
                // Atualizar gold
                const newGold = currentGold - price;
                document.querySelectorAll('.stat-value')[14].textContent = newGold.toLocaleString();
                
                // Adicionar item ao invent√°rio (simplificado)
                const itemData = getItemData(itemId);
                if (itemData.type === 'weapon') {
                    document.querySelectorAll('.stat-name')[7].textContent = itemData.name;
                    document.querySelectorAll('.stat-value')[7].textContent = itemData.stats;
                } else if (itemData.type === 'armor') {
                    document.querySelectorAll('.stat-name')[8].textContent = itemData.name;
                    document.querySelectorAll('.stat-value')[8].textContent = itemData.stats;
                }
                
                addLogEntry(`üõí Comprado: ${itemData.icon} ${itemData.name}!`, 'system');
                addLogEntry(`üí∞ Gold: ${newGold}`, 'system');
                
                // Atualizar display da loja
                updateShopDisplay();
            }
        }

        function equipItem(itemId) {
            const itemData = getItemData(itemId);
            
            if (itemData.type === 'weapon') {
                document.querySelectorAll('.stat-name')[7].textContent = itemData.name;
                document.querySelectorAll('.stat-value')[7].textContent = itemData.stats;
            } else if (itemData.type === 'armor') {
                document.querySelectorAll('.stat-name')[8].textContent = itemData.name;
                document.querySelectorAll('.stat-value')[8].textContent = itemData.stats;
            }
            
            addLogEntry(`‚öîÔ∏è Equipado: ${itemData.icon} ${itemData.name}!`, 'system');
            updateShopDisplay();
        }

        function getItemData(itemId) {
            const allItems = {
                'sword_wood': { name: 'Espada de Madeira', icon: 'üó°Ô∏è', stats: 'ATQ +2', type: 'weapon' },
                'sword_bronze': { name: 'Espada de Bronze', icon: '‚öîÔ∏è', stats: 'ATQ +5', type: 'weapon' },
                'sword_iron': { name: 'Espada de Ferro', icon: 'üó°Ô∏è', stats: 'ATQ +8', type: 'weapon' },
                'sword_steel': { name: 'Espada de A√ßo', icon: '‚öîÔ∏è', stats: 'ATQ +12', type: 'weapon' },
                'bow_short': { name: 'Arco Curto', icon: 'üèπ', stats: 'ATQ +4', type: 'weapon' },
                'bow_long': { name: 'Arco Longo', icon: 'üèπ', stats: 'ATQ +7', type: 'weapon' },
                'staff_basic': { name: 'Cajado B√°sico', icon: 'üîÆ', stats: 'ATQ +5', type: 'weapon' },
                'staff_arcane': { name: 'Cajado Arcano', icon: 'üîÆ', stats: 'ATQ +10', type: 'weapon' },
                'dagger_basic': { name: 'Adaga', icon: 'üó°Ô∏è', stats: 'ATQ +6', type: 'weapon' },
                'dagger_venom': { name: 'Adaga Venenosa', icon: 'üó°Ô∏è', stats: 'ATQ +9', type: 'weapon' },
                'shield_leather': { name: 'Escudo de Couro', icon: 'üõ°Ô∏è', stats: 'DEF +1', type: 'armor' },
                'shield_wood': { name: 'Escudo de Madeira', icon: 'üõ°Ô∏è', stats: 'DEF +3', type: 'armor' },
                'shield_iron': { name: 'Escudo de Ferro', icon: 'üõ°Ô∏è', stats: 'DEF +6', type: 'armor' },
                'shield_steel': { name: 'Escudo de A√ßo', icon: 'üõ°Ô∏è', stats: 'DEF +10', type: 'armor' },
                'armor_leather': { name: 'Armadura de Couro', icon: 'üéΩ', stats: 'DEF +2', type: 'armor' },
                'armor_chain': { name: 'Armadura de Malha', icon: 'üéΩ', stats: 'DEF +5', type: 'armor' },
                'armor_plate': { name: 'Armadura de Placas', icon: 'üéΩ', stats: 'DEF +8', type: 'armor' },
                'robe_basic': { name: 'T√∫nica M√°gica', icon: 'üëò', stats: 'DEF +1', type: 'armor' },
                'robe_enchanted': { name: 'T√∫nica Encantada', icon: 'üëò', stats: 'DEF +4', type: 'armor' },
                'robe_divine': { name: 'T√∫nica Divina', icon: 'üëò', stats: 'DEF +7', type: 'armor' }
            };
            
            return allItems[itemId] || { name: 'Item Desconhecido', icon: '‚ùì', stats: '???', type: 'unknown' };
        }

        function showClassSelection() {
            document.getElementById('classSelectionModal').style.display = 'block';
            addLogEntry('üéØ Abrindo sele√ß√£o de classes...', 'system');
        }

        function closeClassSelection() {
            document.getElementById('classSelectionModal').style.display = 'none';
        }

        function selectClass(className) {
            const classData = {
                warrior: {
                    name: 'Guerreiro',
                    icon: '‚öîÔ∏è',
                    level: 1,
                    rank: 'F',
                    hp: 120,
                    maxHp: 120,
                    atq: 10,
                    def: 8,
                    agi: 5,
                    weapon: 'Espada de Madeira',
                    weaponBonus: 'ATQ +2',
                    armor: 'Escudo de Couro',
                    armorBonus: 'DEF +1',
                    skills: ['Investida B√°sica', 'Postura Defensiva', 'Grito de Guerra', 'Golpe Poderoso']
                },
                archer: {
                    name: 'Arqueiro',
                    icon: 'üèπ',
                    level: 1,
                    rank: 'F',
                    hp: 80,
                    maxHp: 80,
                    atq: 12,
                    def: 4,
                    agi: 15,
                    weapon: 'Arco Curto',
                    weaponBonus: 'ATQ +4',
                    armor: 'Armadura de Couro',
                    armorBonus: 'AGI +3',
                    skills: ['Tiro Preciso', 'Disparo R√°pido', 'Flecha Envenenada', 'Chuva de Flechas']
                },
                mage: {
                    name: 'Mago',
                    icon: 'üîÆ',
                    level: 1,
                    rank: 'F',
                    hp: 70,
                    maxHp: 70,
                    atq: 15,
                    def: 3,
                    agi: 8,
                    weapon: 'Cajado B√°sico',
                    weaponBonus: 'ATQ +5',
                    armor: 'T√∫nica M√°gica',
                    armorBonus: 'DEF +1',
                    skills: ['Bola de Fogo', 'Gelo Arcano', 'Raio', 'Barreira M√°gica']
                },
                cleric: {
                    name: 'Cl√©rigo',
                    icon: '‚ú®',
                    level: 1,
                    rank: 'F',
                    hp: 100,
                    maxHp: 100,
                    atq: 6,
                    def: 6,
                    agi: 6,
                    weapon: 'Cajado Sagrado',
                    weaponBonus: 'ATQ +2',
                    armor: 'Armadura Benta',
                    armorBonus: 'DEF +2',
                    skills: ['Cura Menor', 'B√™n√ß√£o', 'Prote√ß√£o Divina', 'Luz Sagrada']
                },
                assassin: {
                    name: 'Assassino',
                    icon: 'üó°Ô∏è',
                    level: 1,
                    rank: 'F',
                    hp: 85,
                    maxHp: 85,
                    atq: 14,
                    def: 4,
                    agi: 18,
                    weapon: 'Adaga',
                    weaponBonus: 'ATQ +6',
                    armor: 'Armadura de Couro Leve',
                    armorBonus: 'AGI +4',
                    skills: ['Ataque Furtivo', 'Veneno', 'Evas√£o', 'Execu√ß√£o']
                }
            };

            const selectedClass = classData[className];
            if (selectedClass) {
                updateCharacterClass(selectedClass);
                closeClassSelection();
                addLogEntry(`üéØ Classe selecionada: ${selectedClass.icon} ${selectedClass.name}!`, 'system');
                addLogEntry(`üåü Personagem recriado como ${selectedClass.name} n√≠vel 1!`, 'system');
                addLogEntry('‚öîÔ∏è Equipamento inicial atribu√≠do!', 'system');
            }
        }

        function updateCharacterClass(classData) {
            // Atualizar informa√ß√µes do personagem
            document.querySelectorAll('.stat-value')[0].textContent = classData.name;
            document.querySelectorAll('.stat-value')[1].textContent = classData.level;
            document.querySelectorAll('.stat-value')[2].textContent = classData.rank;
            document.querySelectorAll('.stat-value')[3].textContent = `${classData.hp}/${classData.maxHp}`;
            document.querySelectorAll('.stat-value')[4].textContent = classData.atq;
            document.querySelectorAll('.stat-value')[5].textContent = classData.def;
            document.querySelectorAll('.stat-value')[6].textContent = classData.agi;

            // Atualizar HP bar
            document.querySelector('.hp-fill').style.width = '100%';

            // Atualizar invent√°rio
            document.querySelectorAll('.stat-name')[7].textContent = classData.weapon;
            document.querySelectorAll('.stat-value')[7].textContent = classData.weaponBonus;
            document.querySelectorAll('.stat-name')[8].textContent = classData.armor;
            document.querySelectorAll('.stat-value')[8].textContent = classData.armorBonus;

            // Atualizar habilidades
            classData.skills.forEach((skill, index) => {
                if (index < 4) {
                    document.querySelectorAll('.stat-name')[9 + index].textContent = skill;
                }
            });

            // Resetar estat√≠sticas
            document.querySelectorAll('.stat-value')[11].textContent = '0'; // Vit√≥rias
            document.querySelectorAll('.stat-value')[12].textContent = '0'; // Derrotas
            document.querySelectorAll('.stat-value')[13].textContent = `${classData.rank} (Iniciante)`;
            document.querySelectorAll('.stat-value')[14].textContent = '10'; // Gold
            document.querySelectorAll('.stat-value')[15].textContent = '0 / 100'; // XP

            // Limpar log de batalha
            const battleLog = document.getElementById('battleLog');
            battleLog.innerHTML = '';
            addLogEntry(`üéÆ Novo personagem criado!`, 'system');
            addLogEntry(`${classData.icon} ${classData.name} - N√≠vel ${classData.level}`, 'combat');
            addLogEntry('üéí Equipamento inicial equipado!', 'system');
        }

        function resetGame() {
            if (confirm('üîÑ Tem certeza que deseja resetar o jogo? Todo o progresso ser√° perdido!')) {
                // Resetar para Guerreiro n√≠vel 1
                const defaultClass = {
                    name: 'Guerreiro',
                    icon: '‚öîÔ∏è',
                    level: 1,
                    rank: 'F',
                    hp: 100,
                    maxHp: 100,
                    atq: 8,
                    def: 5,
                    agi: 6,
                    weapon: 'Espada de Madeira',
                    weaponBonus: 'ATQ +2',
                    armor: 'Escudo de Couro',
                    armorBonus: 'DEF +1',
                    skills: ['Ataque B√°sico', 'Defender', 'Comer', 'Usar Po√ß√£o']
                };

                updateCharacterClass(defaultClass);
                addLogEntry('üîÑ Jogo resetado com sucesso!', 'system');
                addLogEntry('üéÆ Come√ßando nova aventura!', 'system');
                addLogEntry('‚öîÔ∏è Boa sorte, her√≥i!', 'system');
            }
        }

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            addLogEntry('üéÆ Bem-vindo ao Sistema A-Z MMORPG!', 'system');
            addLogEntry('üåü Personagem carregado com sucesso!', 'system');
            addLogEntry('‚öîÔ∏è Arena de combate pronta!', 'system');
        });

        // Anima√ß√£o de HP (somente durante combate)
        let hpAnimationInterval = null;
        
        function startHPAnimation() {
            if (hpAnimationInterval) return;
            
            hpAnimationInterval = setInterval(() => {
                const hpFills = document.querySelectorAll('.hp-fill');
                hpFills.forEach(hp => {
                    const currentWidth = parseFloat(hp.style.width);
                    const change = (Math.random() - 0.5) * 2;
                    const newWidth = Math.max(10, Math.min(100, currentWidth + change));
                    hp.style.width = newWidth + '%';
                });
            }, 3000);
        }
        
        function stopHPAnimation() {
            if (hpAnimationInterval) {
                clearInterval(hpAnimationInterval);
                hpAnimationInterval = null;
            }
        }
    </script>
</body>
</html>
